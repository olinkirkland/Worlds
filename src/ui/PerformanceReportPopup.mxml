<?xml version="1.0"?>
<ui:PopupPanel xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               xmlns:ui="ui.*"
               width="800"
               creationComplete="onCreationComplete(event)">

    <fx:Script><![CDATA[
        import global.Color;
        import global.Icons;
        import global.performance.PerformanceReport;

        import mx.collections.ArrayCollection;
        import mx.events.FlexEvent;

        import spark.events.IndexChangeEvent;

        private function onColorBarSelection(event:IndexChangeEvent):void {
        }

        private function onCreationComplete(event:FlexEvent):void {
            var d:ArrayCollection = new ArrayCollection(PerformanceReport.items);
            performanceReportColorBar.dataProvider = d;
            performanceReportColorBarLegend.dataProvider = d;
        }

        override public function dispose():void {

        }
        ]]>
    </fx:Script>

    <s:VGroup width="100%">

        <s:HGroup width="100%"
                  verticalAlign="middle">
            <s:Label text="Performance Report"
                     width="100%"
                     styleName="header" />
            <s:Button id="closeButton"
                      skinClass="skins.buttons.SecondaryButtonSkin"
                      icon="{Icons.close}"
                      click="{close()}" />
        </s:HGroup>

        <s:Group width="100%"
                 height="100%">
            <s:Group id="performanceReportColorBarMask"
                     width="100%"
                     height="100%">
                <s:Rect width="100%"
                        height="100%"
                        radiusX="5"
                        radiusY="5">
                    <s:fill>
                        <s:SolidColor color="{Color.red}" />
                    </s:fill>
                </s:Rect>
            </s:Group>

            <ui:ColorBar id="performanceReportColorBar"
                         mask="{performanceReportColorBarMask}"
                         height="100%"
                         width="100%"
                         showLabels="true"
                         change="onColorBarSelection(event)" />
        </s:Group>

        <s:Spacer height="5" />

        <s:List id="performanceReportColorBarLegend"
                width="100%"
                horizontalScrollPolicy="auto"
                itemRenderer="ui.renderers.ColorBarLegendItemRenderer"
                useVirtualLayout="false"
                borderVisible="false"
                contentBackgroundAlpha="0"
                labelField="name">
            <s:layout>
                <s:HorizontalLayout />
            </s:layout>
        </s:List>

    </s:VGroup>
</ui:PopupPanel>
