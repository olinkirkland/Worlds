<?xml version="1.0"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark" creationComplete="onCreationComplete(event)"
                autoDrawBackground="false" click="onClick(event)">
    <fx:Script><![CDATA[
        import mx.core.UIComponent;
        import mx.events.FlexEvent;

        private var layer:UIComponent

        private function onCreationComplete(event:FlexEvent):void {
        }

        override public function set data(value:Object):void {
            if (!value)
                return;

            layer = value as UIComponent;
            labelName.text = layer.name;
            update();
        }

        private function onClick(event:MouseEvent):void {
            layer.visible = !layer.visible;
            update();
        }

        private function update():void {
            solidColor.color = layer.visible ? 0xd3d3d3 : 0xeeeeee;
        }
        ]]>
    </fx:Script>

    <s:Group>

        <s:Rect width="100%" height="100%" radiusX="5" radiusY="5">
            <s:fill>
                <s:SolidColor id="solidColor" />
            </s:fill>
        </s:Rect>

        <s:HGroup padding="10" verticalAlign="middle">
            <s:Label id="labelName" />
        </s:HGroup>

    </s:Group>
</s:ItemRenderer>
